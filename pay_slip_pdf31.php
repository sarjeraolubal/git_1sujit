<html>  <head>    <title>       Displaying all members Register   </title>   <style>   .textright {       text-align:right;   }      table{width:100%; border-collapse:collapse; table-layout:auto; vertical-align:top; margin-bottom:15px; border:1px solid #CCCCCC;}table thead th{color:#FFFFFF; background-color:#666666; border:1px solid #CCCCCC; border-collapse:collapse; text-align:center; table-layout:auto; vertical-align:middle;}table tbody td{vertical-align:middle; border-collapse:collapse; border-left:1px solid #CCCCCC; border-right:1px solid #CCCCCC;}table thead th, table tbody td{padding:5px; border-collapse:collapse;}table tbody tr:nth-child(odd){color:#666666; background-color:#F7F7F7;}table tbody tr:nth-child(even){color:#666666; background-color:#E8E8E8;}.table_sign_up{width:600px;}.table_sign_up th:nth-child(1){width:200px;}.table_sign_up th:nth-child(2){width:400px;}.table_sign_up input[type="text"] {width:380px;}::-webkit-input-placeholder{color: #B0B0B0;}::-moz-placeholder{color: #B0B0B0;}:-ms-input-placeholder{color: #B0B0B0;}:-moz-placeholder{color: #B0B0B0;}   </style>  </head>  <body>    <h1>Displaying all members Register</h1>            <?php    //require "dist/lib/commonfunc.php";    //validatepage();    include("dist/lib/dbconnection.php");    //require "dist/lib/dbconnection.php";    //include("fpdf/fpdf.php");    //require('fpdf/fpdf.php');    include("numtoword2.php");    //require "numtoword2.php";    //require "dist/lib/dataextrfunc.php";    include("html_table.php");    GLOBAL $selecteddata_list;        GLOBAL $List_Pay_MASTER;        $selecteddata_list = search_datalist();        $List_Pay_MASTER = List_Pay_M($selecteddata_list);                //if ($List_Pay_MASTER == "SUCCESS") {$record_count = count($selecteddata_list); echo $record_count. "records inserted";}    //else {echo "NONE records inserted";}    function search_datalist() {        $extr_datalist = array();        $pdo = DBconnectionUtil::connect();        $pdo->setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION);                try {            $sql = "            SELECT lp_pay_m.sys_co_code,                    lp_pay_m.py_year_mm,                    lp_pay_m.py_badge_no,                    lp_pay_m.py_gang_code,                    lp_pay_m.category,                    lp_pay_m.account_number,                    lp_pay_m.basic,                    lp_pay_m.da,                    lp_pay_m.hra,                    lp_pay_m.pf,                    lp_pay_m.ptax,                    lp_pay_m.advance,                    lp_pay_m.esic_e,                    lp_pay_m.esic_o,                    lp_pay_m.no_of_days,                    lp_pay_m.net_salary,                    lp_gang_m.gm_name,                    lp_gang_m.gm_gang_code,                    smestar_syscom.sys_co_name                FROM lp_pay_m                    INNER JOIN smestar_syscom ON                    lp_pay_m.sys_co_code =                     smestar_syscom.sys_co_code                    INNER JOIN lp_gang_m ON lp_pay_m.py_badge_no                    = lp_gang_m.gm_badge_no                ORDER BY                    lp_pay_m.sys_co_code,                    lp_pay_m.py_year_mm,                    lp_pay_m.py_badge_no                LIMIT 0,10                    ";            $q = $pdo->prepare($sql);                        $q->execute();                        $extr_datalist = $q->fetchAll();        }                catch (PDOException $sql_err) {            $errmsg = "TechError: search data            list:".$sql_err->getMessage().", contact system administrator            ";                        error_log($errmsg,0);                }    DBconnectionUtil::disconnect();        return $extr_datalist;    }            //-- List of db table        function List_Pay_M ()        {        $pdo = DBconnectionUtil::connect();                $pdo->setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION);                GLOBAL $errmsg;                //--FOR Gang Code                GLOBAL $selecteddata_list;                GLOBAL $net_salary,                $py_badge_no,                $gm_name,                $sys_co_name,                $basic,                $da,                $hra,                $pf,$yyMM,                $esic_e,                $amount_word,                $advance;                        GLOBAL $record_count;                $record_count = count($selecteddata_list);                $sumbasic    = 0;                $sumda        = 0;                $sumpay_da    = 0;                $sumgross    = 0;                $sumhra        = 0;                $sumpf        = 0;                $sumptax    = 0;                $sumadvance    = 0;                $sumesic_e    = 0;                $sumsalary    = 0;                $sumnet_salary = 0;                $sumesic_o    = 0;                                            foreach ($selecteddata_list as $row)                {                    $py_badge_no        = $row['py_badge_no'];                    //strzero($py_badge_no,8);                    //str_pad($py_badge_no,4,"",STR_PAD_LEFT);                    $py_year_mm            = $row['py_year_mm'];                    $yyMM                = substr($py_year_mm,2,2) ."/". substr($py_year_mm,4,2);                    $py_gang_code        = $row['py_gang_code'];                    $sys_co_name        = $row['sys_co_name'];                    $gm_name            = $row['gm_name'];                    $basic                = round($row['basic']);                    // $sum+= $value;                    $da                    = round($row['da']);                    $sumda                 += $da;                    $hra                = round($row['hra']);                    $sumhra                += $hra;                    $pf                    = round($row['pf']);                    $ptax                = round($row['ptax']);                    $advance            = round($row['advance']);                    $esic_e                = round($row['esic_e']);                    $net_salary            = round($row['net_salary']);                    $category            = round($row['category']);                    $account_number        = $row['category'];                    $esic_o                = $row['account_number'];                    $sumesic_o            += $esic_o;                                        $_SESSION["net_salary"] = $net_salary;                    $amount_word    =    Show_Amount_In_Words($net_salary);                                                            $pdf=new PDF();                    $pdf->AddPage();                    $pdf->SetFont('Arial','',12);                                                            $html='<h1>'.$sys_co_name.'</h1><td></td><table class="table_sign_up"><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>YYMM</td><td>: '.$yyMM.'<input type="text" name="yyMM" value="'.$yyMM.'" required maxlength="254" /></td></tr><tr><td>Badge No.</td><td>: '.$py_badge_no.'<input type="text" name="Badge" value="'.$py_badge_no.'" required maxlength="100" /></td></tr><tr><td>Name</td><td>: '.$gm_name.'<input type="text" name="Name" value="'.$gm_name.'" required maxlength="100" /></td></tr><tr><td>Basic</td><td>: '.$basic.'<input type="text" name="Basic" value="'.$basic.'" required maxlength="30" /></td></tr><tr><td>Da</td><td>: '.$da.'<input type="text" name="Da" value="'.$da.'" required maxlength="30" /></td></tr><tr><td>Hra</td><td>: '.$hra.'<input type="text" name="phone" value="'.$hra.'" required maxlength="30" /></td></tr><tr><td>PF</td><td>: '.$pf.'<input type="text" name="phone" value="'.$pf.'" required maxlength="30" /></td></tr><tr><td>Esic_e</td><td>: '.$esic_e.'<input type="text" name="Esic_e" value="'.$esic_e.'" required maxlength="30" /></td></tr><td></td><tr><td>'.$amount_word.'</td><td></td></tr></tbody></table>';                    $pdf->WriteHTML($html);                    $pdf->Output();                                                        }        }    ?>